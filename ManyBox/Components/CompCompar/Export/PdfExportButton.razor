@inject IJSRuntime JS

<button class="view-btn" @onclick="GenerarYDescargarPDF">PDF</button>

@code {
    [Parameter]
    public string Folio { get; set; } = "";

    [Parameter]
    public DateTime Fecha { get; set; }

    [Parameter]
    public decimal Total { get; set; }

    private async Task GenerarYDescargarPDF()
    {
        var contenido = $"Folio: {Folio}\nFecha: {Fecha:yyyy-MM-dd}\nTotal: {Total:C}";
        var bytes = System.Text.Encoding.UTF8.GetBytes(contenido);
        var nombreArchivo = $"venta_{Folio}.txt";

        using var streamRef = new DotNetStreamReference(new MemoryStream(bytes));
        await JS.InvokeVoidAsync("descargarArchivo", nombreArchivo, streamRef);
    }
}
